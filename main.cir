#LOAD ship "ship.png" 1


#LOAD bullet "bullet.png" 2


#LOAD enemy "enemy.png" 3


#FONT Godo "Godo.ttf" 5


OBJECT 0 (Bullet) -1 {
$INITIALIZE 0 (constructor) default void {
    @PUSH_INTEGER 0 0

    @PUSH_INTEGER 0 0

@VECTOR 2 0

@STORE_CLASS 0 (position) 0
@PUSH_INTEGER 100 0

@STORE_CLASS 1 (width) 0
@PUSH_INTEGER 100 0

@STORE_CLASS 2 (height) 0
@PUSH_INTEGER 0 0

@STORE_CLASS 3 (rotation) 0
@PUSH_NULL 0



@STORE_CLASS 4 (sprite) 0

@PUSH_NULL 8
@STORE_CLASS 5 (game) 8

}
FUNC 0 (tick) public void  {
        @PUSH_INTEGER 12 19

        @PUSH_INTEGER 0 19

    @VECTOR 2 19

    @PUSH_THIS 0

@LOAD_ATTR 0 (position) 0



    @ADD 19
    @PUSH_THIS 0

@STORE_ATTR 0 (position) 0


    @PUSH_INTEGER 0 21

    @STORE_LOCAL 0 (i) 0

    @GOTO 0x1 21
    @LABEL 0x2 21
    @PUSH_THIS 22

@LOAD_ATTR 5 (game) 22

@LOAD_ATTR 2 (enemies) 22

@LOAD_LOCAL 0 (i) 22




@ARRAY_GET 22


    @STORE_LOCAL 1 (enemy) 0

    @PUSH_INTEGER 50 24

    @PUSH_INTEGER 2 24

@PUSH_THIS 24

@LOAD_ATTR 0 (position) 24

@LOAD_ATTR 1 (y) 24



@PUSH_INTEGER -1 0

@MUL 0

@LOAD_LOCAL 1 (enemy) 24


@LOAD_ATTR 0 (position) 24

@LOAD_ATTR 1 (y) 24



@ADD 0

@POW 0

@PUSH_INTEGER 2 24

@PUSH_THIS 24

@LOAD_ATTR 0 (position) 24

@LOAD_ATTR 0 (x) 24



@PUSH_INTEGER -1 0

@MUL 0

@LOAD_LOCAL 1 (enemy) 24


@LOAD_ATTR 0 (position) 24

@LOAD_ATTR 0 (x) 24



@ADD 0

@POW 0

@ADD 0

    @CALL_BUILTIN 12 (sqrt) 1 24

    @EQ_GREATER 0

    @IF 0x4 24
    @PUSH_THIS 25

@LOAD_ATTR 5 (game) 25

@LOAD_ATTR 2 (enemies) 25

@LOAD_LOCAL 1 (enemy) 25




@CALL_ATTR 2 (remove) 1 25



    @PUSH_THIS 26

@LOAD_ATTR 5 (game) 26

@LOAD_ATTR 1 (bullets) 26

@PUSH_THIS 26



@CALL_ATTR 2 (remove) 1 26



    @GOTO 0x3 24
    @LABEL 0x4 24
    @LABEL 0x3 24

    @PUSH_INTEGER 1 0

    @LOAD_LOCAL 0 (i) 0




    @ADD 21
    @STORE_LOCAL 0 (i) 0


    @LABEL 0x1 21
        @PUSH_THIS 21

@LOAD_ATTR 5 (game) 21

@LOAD_ATTR 2 (enemies) 21

@CALL_ATTR 1 (size) 0 21



    @LOAD_LOCAL 0 (i) 21




    @GREATER 0

    @FOR 0x2 21

}

FUNC 1 (init) public void  {
}

FUNC 2 (render) public void  {
}

$CONSTRUCTOR 0 (constructor) default void pos vector game Game {
@PUSH_STRING "bullet" 11
@PUSH_THIS 0

@STORE_ATTR 4 (sprite) 0


@PUSH_INTEGER 9 12
@PUSH_THIS 0

@STORE_ATTR 1 (width) 0


@PUSH_INTEGER 54 13
@PUSH_THIS 0

@STORE_ATTR 2 (height) 0


@LOAD_LOCAL 0 (pos) 14



@PUSH_THIS 0

@STORE_ATTR 0 (position) 0


@LOAD_LOCAL 1 (game) 15



@PUSH_THIS 0

@STORE_ATTR 5 (game) 0


}

}

OBJECT 1 (Enemy) -1 {
$INITIALIZE 0 (constructor) default void {
    @PUSH_INTEGER 0 0

    @PUSH_INTEGER 0 0

@VECTOR 2 0

@STORE_CLASS 0 (position) 0
@PUSH_INTEGER 100 0

@STORE_CLASS 1 (width) 0
@PUSH_INTEGER 100 0

@STORE_CLASS 2 (height) 0
@PUSH_INTEGER 0 0

@STORE_CLASS 3 (rotation) 0
@PUSH_NULL 0



@STORE_CLASS 4 (sprite) 0

}
FUNC 0 (tick) public void  {
        @PUSH_INTEGER 4 42

        @PUSH_INTEGER 0 42

    @VECTOR 2 42

    @PUSH_THIS 0

@LOAD_ATTR 0 (position) 0



    @SUB 42
    @PUSH_THIS 0

@STORE_ATTR 0 (position) 0


}

FUNC 1 (init) public void  {
}

FUNC 2 (render) public void  {
}

$CONSTRUCTOR 0 (constructor) default void {
@PUSH_STRING "enemy" 34
@PUSH_THIS 0

@STORE_ATTR 4 (sprite) 0


@PUSH_INTEGER 2 35

@PUSH_INTEGER 93 35

@DIV 0
@PUSH_THIS 0

@STORE_ATTR 1 (width) 0


@PUSH_INTEGER 2 36

@PUSH_INTEGER 84 36

@DIV 0
@PUSH_THIS 0

@STORE_ATTR 2 (height) 0


    @PUSH_INTEGER 300 38

    @PUSH_INTEGER 400 38

@PUSH_INTEGER 400 38

@PUSH_INTEGER -1 0

@MUL 0

    @CALL_BUILTIN 11 (random_range) 2 38

@VECTOR 2 38
@PUSH_THIS 0

@STORE_ATTR 0 (position) 0


}

}

OBJECT 2 (Ship) -1 {
$INITIALIZE 0 (constructor) default void {
    @PUSH_INTEGER 0 0

    @PUSH_INTEGER 0 0

@VECTOR 2 0

@STORE_CLASS 0 (position) 0
@PUSH_INTEGER 100 0

@STORE_CLASS 1 (width) 0
@PUSH_INTEGER 100 0

@STORE_CLASS 2 (height) 0
@PUSH_INTEGER 0 0

@STORE_CLASS 3 (rotation) 0
@PUSH_NULL 0



@STORE_CLASS 4 (sprite) 0

@PUSH_NULL 47
@STORE_CLASS 5 (target_pos) 47

@PUSH_FLOAT 4.5f 48

@STORE_CLASS 6 (speed) 48

@PUSH_INTEGER 0 49

@STORE_CLASS 7 (shoot_timer) 49

@PUSH_NULL 50
@STORE_CLASS 8 (game) 50

}
FUNC 0 (tick) public void  {
    @KEYBOARD w 63

    @IF 0x6 63
        @LOAD_CLASS 6 (speed) 64



        @PUSH_INTEGER 0 64

    @VECTOR 2 64

    @PUSH_THIS 0

@LOAD_ATTR 5 (target_pos) 0



    @ADD 64
    @PUSH_THIS 0

@STORE_ATTR 5 (target_pos) 0


    @GOTO 0x5 63
    @LABEL 0x6 63
    @LABEL 0x5 63

    @KEYBOARD s 65

    @IF 0x8 65
        @LOAD_CLASS 6 (speed) 66



        @PUSH_INTEGER 0 66

    @VECTOR 2 66

    @PUSH_THIS 0

@LOAD_ATTR 5 (target_pos) 0



    @SUB 66
    @PUSH_THIS 0

@STORE_ATTR 5 (target_pos) 0


    @GOTO 0x7 65
    @LABEL 0x8 65
    @LABEL 0x7 65

    @KEYBOARD a 67

    @IF 0xa 67
        @PUSH_INTEGER 0 68

        @LOAD_CLASS 6 (speed) 68



    @VECTOR 2 68

    @PUSH_THIS 0

@LOAD_ATTR 5 (target_pos) 0



    @SUB 68
    @PUSH_THIS 0

@STORE_ATTR 5 (target_pos) 0


    @GOTO 0x9 67
    @LABEL 0xa 67
    @LABEL 0x9 67

    @KEYBOARD d 69

    @IF 0xc 69
        @PUSH_INTEGER 0 70

        @LOAD_CLASS 6 (speed) 70



    @VECTOR 2 70

    @PUSH_THIS 0

@LOAD_ATTR 5 (target_pos) 0



    @ADD 70
    @PUSH_THIS 0

@STORE_ATTR 5 (target_pos) 0


    @GOTO 0xb 69
    @LABEL 0xc 69
    @LABEL 0xb 69

    @PUSH_INTEGER 5 72

    @PUSH_THIS 72

@LOAD_ATTR 0 (position) 72



    @PUSH_INTEGER -1 0

@MUL 0

    @PUSH_THIS 72

@LOAD_ATTR 5 (target_pos) 72



@ADD 0

@DIV 0

    @PUSH_THIS 0

@LOAD_ATTR 0 (position) 0



    @ADD 72
    @PUSH_THIS 0

@STORE_ATTR 0 (position) 0


    @PUSH_INTEGER 1 74

    @PUSH_THIS 74

@LOAD_ATTR 7 (shoot_timer) 74



    @GREATER 0

    @IF 0xe 74
    @PUSH_NUMBER 0.05 75

    @PUSH_THIS 0

@LOAD_ATTR 7 (shoot_timer) 0



    @ADD 75
    @PUSH_THIS 0

@STORE_ATTR 7 (shoot_timer) 0


    @GOTO 0xd 74
    @LABEL 0xe 74
    @LABEL 0xd 74

    @PUSH_INTEGER 1 77

    @PUSH_THIS 77

@LOAD_ATTR 7 (shoot_timer) 77



    @EQ_LESSER 0

    @KEYBOARD space 77

    @AND 0

    @IF 0x10 77
    @PUSH_THIS 78

@LOAD_ATTR 8 (game) 78

@LOAD_ATTR 1 (bullets) 78

@PUSH_THIS 78

@LOAD_ATTR 8 (game) 78



@PUSH_THIS 78

@LOAD_ATTR 0 (position) 78



@NEW 0 (Bullet) 2 78

@CALL_ATTR 0 (push) 1 78



    @PUSH_INTEGER 0 79
@PUSH_THIS 0

@STORE_ATTR 7 (shoot_timer) 0


    @GOTO 0xf 77
    @LABEL 0x10 77
    @LABEL 0xf 77

}

FUNC 1 (init) public void  {
}

FUNC 2 (render) public void  {
}

$CONSTRUCTOR 0 (constructor) default void game Game {
@PUSH_STRING "ship" 53
@PUSH_THIS 0

@STORE_ATTR 4 (sprite) 0


@PUSH_INTEGER 2 54

@PUSH_INTEGER 98 54

@DIV 0
@PUSH_THIS 0

@STORE_ATTR 1 (width) 0


@PUSH_INTEGER 2 55

@PUSH_INTEGER 75 55

@DIV 0
@PUSH_THIS 0

@STORE_ATTR 2 (height) 0


    @PUSH_INTEGER 250 56

@PUSH_INTEGER -1 0

@MUL 0

    @PUSH_INTEGER 0 56

@VECTOR 2 56
@PUSH_THIS 0

@STORE_ATTR 0 (position) 0


@PUSH_THIS 57

@LOAD_ATTR 0 (position) 57


@PUSH_THIS 0

@STORE_ATTR 5 (target_pos) 0


@LOAD_LOCAL 0 (game) 58



@PUSH_THIS 0

@STORE_ATTR 8 (game) 0


}

}

SCENE 3 (Game) -1 {
$INITIALIZE 0 (constructor) default void {
@PUSH_NULL 85
@STORE_CLASS 0 (ship) 85

@ARRAY 0 0

@STORE_CLASS 1 (bullets) 86

@ARRAY 0 0

@STORE_CLASS 2 (enemies) 87

@PUSH_INTEGER 0 88

@STORE_CLASS 3 (score) 88

@PUSH_INTEGER 0 90

@STORE_CLASS 4 (enemy_timer) 90

}
FUNC 0 (init) public void  {
    @PUSH_THIS 93



    @NEW 2 (Ship) 1 93
@PUSH_THIS 0

@STORE_ATTR 0 (ship) 0


}

FUNC 1 (render) public void  {
    @PUSH_INTEGER 0 97

    @STORE_LOCAL 0 (i) 0

    @GOTO 0x11 97
    @LABEL 0x12 97
    @PUSH_THIS 98

@LOAD_ATTR 1 (bullets) 98

@LOAD_LOCAL 0 (i) 98




@ARRAY_GET 98
@CALL_ATTR 2 (render) 0 98



    @PUSH_INTEGER 1 0

    @LOAD_LOCAL 0 (i) 0




    @ADD 97
    @STORE_LOCAL 0 (i) 0


    @LABEL 0x11 97
        @LOAD_CLASS 1 (bullets) 97

@CALL_ATTR 1 (size) 0 97



    @LOAD_LOCAL 0 (i) 97




    @GREATER 0

    @FOR 0x12 97

    @PUSH_INTEGER 0 101

    @STORE_LOCAL 0 (i) 0

    @GOTO 0x13 101
    @LABEL 0x14 101
    @PUSH_THIS 102

@LOAD_ATTR 2 (enemies) 102

@LOAD_LOCAL 0 (i) 102




@ARRAY_GET 102
@CALL_ATTR 2 (render) 0 102



    @PUSH_INTEGER 1 0

    @LOAD_LOCAL 0 (i) 0




    @ADD 101
    @STORE_LOCAL 0 (i) 0


    @LABEL 0x13 101
        @LOAD_CLASS 2 (enemies) 101

@CALL_ATTR 1 (size) 0 101



    @LOAD_LOCAL 0 (i) 101




    @GREATER 0

    @FOR 0x14 101

    @PUSH_THIS 105

@LOAD_ATTR 0 (ship) 105

@CALL_ATTR 2 (render) 0 105



    @PUSH_INTEGER 24 106

        @PUSH_INTEGER 250 106

    @PUSH_INTEGER 350 106

@PUSH_INTEGER -1 0

@MUL 0

@VECTOR 2 106

    @LOAD_CLASS 3 (score) 106



@CAST string 106

@PUSH_STRING "score : " 106

@ADD 0

    @PUSH_STRING "Godo" 106

    @CALL_BUILTIN 13 (text) 4 106

}

FUNC 2 (tick) public void  {
    @PUSH_THIS 110

@LOAD_ATTR 0 (ship) 110

@CALL_ATTR 0 (tick) 0 110



    @PUSH_INTEGER 1000 112

    @PUSH_INTEGER 10 112

    @PUSH_INTEGER 1 112

    @CALL_BUILTIN 11 (random_range) 2 112

@DIV 0

    @PUSH_THIS 0

@LOAD_ATTR 4 (enemy_timer) 0



    @ADD 112
    @PUSH_THIS 0

@STORE_ATTR 4 (enemy_timer) 0


    @PUSH_INTEGER 1 114

    @PUSH_THIS 114

@LOAD_ATTR 4 (enemy_timer) 114



    @EQ_LESSER 0

    @IF 0x16 114
    @PUSH_THIS 115

@LOAD_ATTR 2 (enemies) 115

@NEW 1 (Enemy) 0 115

@CALL_ATTR 0 (push) 1 115



    @PUSH_INTEGER 0 116
@PUSH_THIS 0

@STORE_ATTR 4 (enemy_timer) 0


    @GOTO 0x15 114
    @LABEL 0x16 114
    @LABEL 0x15 114

    @PUSH_INTEGER 0 119

    @STORE_LOCAL 0 (i) 0

    @GOTO 0x17 119
    @LABEL 0x18 119
    @PUSH_THIS 120

@LOAD_ATTR 1 (bullets) 120

@LOAD_LOCAL 0 (i) 120




@ARRAY_GET 120
@CALL_ATTR 0 (tick) 0 120



    @PUSH_INTEGER 1 0

    @LOAD_LOCAL 0 (i) 0




    @ADD 119
    @STORE_LOCAL 0 (i) 0


    @LABEL 0x17 119
        @LOAD_CLASS 1 (bullets) 119

@CALL_ATTR 1 (size) 0 119



    @LOAD_LOCAL 0 (i) 119




    @GREATER 0

    @FOR 0x18 119

    @PUSH_INTEGER 0 123

    @STORE_LOCAL 0 (i) 0

    @GOTO 0x19 123
    @LABEL 0x1a 123
    @PUSH_THIS 124

@LOAD_ATTR 2 (enemies) 124

@LOAD_LOCAL 0 (i) 124




@ARRAY_GET 124
@CALL_ATTR 0 (tick) 0 124



    @PUSH_INTEGER 1 0

    @LOAD_LOCAL 0 (i) 0




    @ADD 123
    @STORE_LOCAL 0 (i) 0


    @LABEL 0x19 123
        @LOAD_CLASS 2 (enemies) 123

@CALL_ATTR 1 (size) 0 123



    @LOAD_LOCAL 0 (i) 123




    @GREATER 0

    @FOR 0x1a 123

}

$CONSTRUCTOR 0 (constructor) default void {
}

}

FUNC 0 (main) default void  {
    @NEW 3 (Game) 0 131

    @CALL_BUILTIN 2 (load_scene) 1 131

    @PUSH_INTEGER 600 133

    @PUSH_INTEGER 800 133

    @PUSH_STRING "title" 133

    @CALL_BUILTIN 1 (window) 3 133

}

