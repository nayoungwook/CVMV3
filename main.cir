#LOAD ship "ship.png" 1


#LOAD bullet "bullet.png" 2


#LOAD enemy "enemy.png" 3


#FONT Godo "Godo.ttf" 5


OBJECT 0 (Bullet) -1 {
$INITIALIZE 0 (constructor) default void {
    @PUSH_INTEGER 0 0

    @PUSH_INTEGER 0 0

@VECTOR 2 0

@STORE_CLASS 0 (position) 0
@PUSH_INTEGER 100 0

@STORE_CLASS 1 (width) 0
@PUSH_INTEGER 100 0

@STORE_CLASS 2 (height) 0
@PUSH_INTEGER 0 0

@STORE_CLASS 3 (rotation) 0
@PUSH_NULL 0



@STORE_CLASS 4 (sprite) 0

@PUSH_NULL 8
@STORE_CLASS 5 (game) 8

}
FUNC 0 (tick) public void  {
        @PUSH_INTEGER 12 19

        @PUSH_INTEGER 0 19

    @VECTOR 2 19

    @PUSH_THIS 0

@LOAD_ATTR 0 (position) 0



    @ADD 19
    @PUSH_THIS 0

@STORE_ATTR 0 (position) 0


    @PUSH_INTEGER 0 21

    @STORE_LOCAL 0 (i) 0

    @GOTO 0x1 21
    @LABEL 0x2 21
    @PUSH_THIS 22

@LOAD_ATTR 5 (game) 22

@LOAD_ATTR 2 (enemies) 22

@LOAD_LOCAL 0 (i) 22




@ARRAY_GET 22


    @STORE_LOCAL 1 (enemy) 0

    @PUSH_INTEGER 50 24

    @PUSH_INTEGER 2 24

@PUSH_THIS 24

@LOAD_ATTR 0 (position) 24

@LOAD_ATTR 1 (y) 24



@PUSH_INTEGER -1 0

@MUL 0

@LOAD_LOCAL 1 (enemy) 24


@LOAD_ATTR 0 (position) 24

@LOAD_ATTR 1 (y) 24



@ADD 0

@POW 0

@PUSH_INTEGER 2 24

@PUSH_THIS 24

@LOAD_ATTR 0 (position) 24

@LOAD_ATTR 0 (x) 24



@PUSH_INTEGER -1 0

@MUL 0

@LOAD_LOCAL 1 (enemy) 24


@LOAD_ATTR 0 (position) 24

@LOAD_ATTR 0 (x) 24



@ADD 0

@POW 0

@ADD 0

    @CALL_BUILTIN 12 (sqrt) 1 24

    @EQ_GREATER 0

    @IF 0x4 24
    @PUSH_THIS 25

@LOAD_ATTR 5 (game) 25

@LOAD_ATTR 2 (enemies) 25

@LOAD_LOCAL 1 (enemy) 25




@CALL_ATTR 2 (remove) 1 25



    @PUSH_THIS 26

@LOAD_ATTR 5 (game) 26

@LOAD_ATTR 1 (bullets) 26

@PUSH_THIS 26



@CALL_ATTR 2 (remove) 1 26



    @PUSH_THIS 27

@LOAD_ATTR 5 (game) 27

@CALL_ATTR 1 (increase_score) 0 27



    @GOTO 0x3 24
    @LABEL 0x4 24
    @LABEL 0x3 24

    @PUSH_INTEGER 1 0

    @LOAD_LOCAL 0 (i) 0




    @ADD 21
    @STORE_LOCAL 0 (i) 0


    @LABEL 0x1 21
        @PUSH_THIS 21

@LOAD_ATTR 5 (game) 21

@LOAD_ATTR 2 (enemies) 21

@CALL_ATTR 1 (size) 0 21



    @LOAD_LOCAL 0 (i) 21




    @GREATER 0

    @FOR 0x2 21

}

FUNC 1 (init) public void  {
}

FUNC 2 (render) public void  {
}

$CONSTRUCTOR 0 (constructor) default void pos vector game Game {
@PUSH_STRING "bullet" 11
@PUSH_THIS 0

@STORE_ATTR 4 (sprite) 0


@PUSH_INTEGER 9 12
@PUSH_THIS 0

@STORE_ATTR 1 (width) 0


@PUSH_INTEGER 54 13
@PUSH_THIS 0

@STORE_ATTR 2 (height) 0


@LOAD_LOCAL 0 (pos) 14



@PUSH_THIS 0

@STORE_ATTR 0 (position) 0


@LOAD_LOCAL 1 (game) 15



@PUSH_THIS 0

@STORE_ATTR 5 (game) 0


}

}

OBJECT 1 (Enemy) -1 {
$INITIALIZE 0 (constructor) default void {
    @PUSH_INTEGER 0 0

    @PUSH_INTEGER 0 0

@VECTOR 2 0

@STORE_CLASS 0 (position) 0
@PUSH_INTEGER 100 0

@STORE_CLASS 1 (width) 0
@PUSH_INTEGER 100 0

@STORE_CLASS 2 (height) 0
@PUSH_INTEGER 0 0

@STORE_CLASS 3 (rotation) 0
@PUSH_NULL 0



@STORE_CLASS 4 (sprite) 0

}
FUNC 0 (tick) public void  {
        @PUSH_INTEGER 4 43

        @PUSH_INTEGER 0 43

    @VECTOR 2 43

    @PUSH_THIS 0

@LOAD_ATTR 0 (position) 0



    @SUB 43
    @PUSH_THIS 0

@STORE_ATTR 0 (position) 0


}

FUNC 1 (init) public void  {
}

FUNC 2 (render) public void  {
}

$CONSTRUCTOR 0 (constructor) default void {
@PUSH_STRING "enemy" 35
@PUSH_THIS 0

@STORE_ATTR 4 (sprite) 0


@PUSH_INTEGER 2 36

@PUSH_INTEGER 93 36

@DIV 0
@PUSH_THIS 0

@STORE_ATTR 1 (width) 0


@PUSH_INTEGER 2 37

@PUSH_INTEGER 84 37

@DIV 0
@PUSH_THIS 0

@STORE_ATTR 2 (height) 0


    @PUSH_INTEGER 300 39

    @PUSH_INTEGER 400 39

@PUSH_INTEGER 400 39

@PUSH_INTEGER -1 0

@MUL 0

    @CALL_BUILTIN 11 (random_range) 2 39

@VECTOR 2 39
@PUSH_THIS 0

@STORE_ATTR 0 (position) 0


}

}

OBJECT 2 (Ship) -1 {
$INITIALIZE 0 (constructor) default void {
    @PUSH_INTEGER 0 0

    @PUSH_INTEGER 0 0

@VECTOR 2 0

@STORE_CLASS 0 (position) 0
@PUSH_INTEGER 100 0

@STORE_CLASS 1 (width) 0
@PUSH_INTEGER 100 0

@STORE_CLASS 2 (height) 0
@PUSH_INTEGER 0 0

@STORE_CLASS 3 (rotation) 0
@PUSH_NULL 0



@STORE_CLASS 4 (sprite) 0

@PUSH_NULL 48
@STORE_CLASS 5 (target_pos) 48

@PUSH_FLOAT 4.5f 49

@STORE_CLASS 6 (speed) 49

@PUSH_INTEGER 0 50

@STORE_CLASS 7 (shoot_timer) 50

@PUSH_NULL 51
@STORE_CLASS 8 (game) 51

}
FUNC 0 (tick) public void  {
    @KEYBOARD w 64

    @IF 0x6 64
        @LOAD_CLASS 6 (speed) 65



        @PUSH_INTEGER 0 65

    @VECTOR 2 65

    @PUSH_THIS 0

@LOAD_ATTR 5 (target_pos) 0



    @ADD 65
    @PUSH_THIS 0

@STORE_ATTR 5 (target_pos) 0


    @GOTO 0x5 64
    @LABEL 0x6 64
    @LABEL 0x5 64

    @KEYBOARD s 66

    @IF 0x8 66
        @LOAD_CLASS 6 (speed) 67



        @PUSH_INTEGER 0 67

    @VECTOR 2 67

    @PUSH_THIS 0

@LOAD_ATTR 5 (target_pos) 0



    @SUB 67
    @PUSH_THIS 0

@STORE_ATTR 5 (target_pos) 0


    @GOTO 0x7 66
    @LABEL 0x8 66
    @LABEL 0x7 66

    @KEYBOARD a 68

    @IF 0xa 68
        @PUSH_INTEGER 0 69

        @LOAD_CLASS 6 (speed) 69



    @VECTOR 2 69

    @PUSH_THIS 0

@LOAD_ATTR 5 (target_pos) 0



    @SUB 69
    @PUSH_THIS 0

@STORE_ATTR 5 (target_pos) 0


    @GOTO 0x9 68
    @LABEL 0xa 68
    @LABEL 0x9 68

    @KEYBOARD d 70

    @IF 0xc 70
        @PUSH_INTEGER 0 71

        @LOAD_CLASS 6 (speed) 71



    @VECTOR 2 71

    @PUSH_THIS 0

@LOAD_ATTR 5 (target_pos) 0



    @ADD 71
    @PUSH_THIS 0

@STORE_ATTR 5 (target_pos) 0


    @GOTO 0xb 70
    @LABEL 0xc 70
    @LABEL 0xb 70

    @PUSH_INTEGER 5 73

    @PUSH_THIS 73

@LOAD_ATTR 0 (position) 73



    @PUSH_INTEGER -1 0

@MUL 0

    @PUSH_THIS 73

@LOAD_ATTR 5 (target_pos) 73



@ADD 0

@DIV 0

    @PUSH_THIS 0

@LOAD_ATTR 0 (position) 0



    @ADD 73
    @PUSH_THIS 0

@STORE_ATTR 0 (position) 0


    @PUSH_INTEGER 1 75

    @PUSH_THIS 75

@LOAD_ATTR 7 (shoot_timer) 75



    @GREATER 0

    @IF 0xe 75
    @PUSH_NUMBER 0.05 76

    @PUSH_THIS 0

@LOAD_ATTR 7 (shoot_timer) 0



    @ADD 76
    @PUSH_THIS 0

@STORE_ATTR 7 (shoot_timer) 0


    @GOTO 0xd 75
    @LABEL 0xe 75
    @LABEL 0xd 75

    @PUSH_INTEGER 1 78

    @PUSH_THIS 78

@LOAD_ATTR 7 (shoot_timer) 78



    @EQ_LESSER 0

    @KEYBOARD space 78

    @AND 0

    @IF 0x10 78
    @PUSH_THIS 79

@LOAD_ATTR 8 (game) 79

@LOAD_ATTR 1 (bullets) 79

@PUSH_THIS 79

@LOAD_ATTR 8 (game) 79



@PUSH_THIS 79

@LOAD_ATTR 0 (position) 79



@NEW 0 (Bullet) 2 79

@CALL_ATTR 0 (push) 1 79



    @PUSH_INTEGER 0 80
@PUSH_THIS 0

@STORE_ATTR 7 (shoot_timer) 0


    @GOTO 0xf 78
    @LABEL 0x10 78
    @LABEL 0xf 78

}

FUNC 1 (init) public void  {
}

FUNC 2 (render) public void  {
}

$CONSTRUCTOR 0 (constructor) default void game Game {
@PUSH_STRING "ship" 54
@PUSH_THIS 0

@STORE_ATTR 4 (sprite) 0


@PUSH_INTEGER 2 55

@PUSH_INTEGER 98 55

@DIV 0
@PUSH_THIS 0

@STORE_ATTR 1 (width) 0


@PUSH_INTEGER 2 56

@PUSH_INTEGER 75 56

@DIV 0
@PUSH_THIS 0

@STORE_ATTR 2 (height) 0


    @PUSH_INTEGER 250 57

@PUSH_INTEGER -1 0

@MUL 0

    @PUSH_INTEGER 0 57

@VECTOR 2 57
@PUSH_THIS 0

@STORE_ATTR 0 (position) 0


@PUSH_THIS 58

@LOAD_ATTR 0 (position) 58


@PUSH_THIS 0

@STORE_ATTR 5 (target_pos) 0


@LOAD_LOCAL 0 (game) 59



@PUSH_THIS 0

@STORE_ATTR 8 (game) 0


}

}

SCENE 3 (Game) -1 {
$INITIALIZE 0 (constructor) default void {
@PUSH_NULL 86
@STORE_CLASS 0 (ship) 86

@ARRAY 0 0

@STORE_CLASS 1 (bullets) 87

@ARRAY 0 0

@STORE_CLASS 2 (enemies) 88

@PUSH_INTEGER 0 89

@STORE_CLASS 3 (score) 89

@PUSH_INTEGER 0 91

@STORE_CLASS 4 (enemy_timer) 91

}
FUNC 0 (init) public void  {
    @PUSH_THIS 94



    @NEW 2 (Ship) 1 94
@PUSH_THIS 0

@STORE_ATTR 0 (ship) 0


}

FUNC 1 (increase_score) public void  {
    @PUSH_INTEGER 1 0

    @PUSH_THIS 0

@LOAD_ATTR 3 (score) 0



    @ADD 98
    @PUSH_THIS 0

@STORE_ATTR 3 (score) 0


}

FUNC 2 (render) public void  {
    @PUSH_INTEGER 0 102

    @STORE_LOCAL 0 (i) 0

    @GOTO 0x11 102
    @LABEL 0x12 102
    @PUSH_THIS 103

@LOAD_ATTR 1 (bullets) 103

@LOAD_LOCAL 0 (i) 103




@ARRAY_GET 103
@CALL_ATTR 2 (render) 0 103



    @PUSH_INTEGER 1 0

    @LOAD_LOCAL 0 (i) 0




    @ADD 102
    @STORE_LOCAL 0 (i) 0


    @LABEL 0x11 102
        @LOAD_CLASS 1 (bullets) 102

@CALL_ATTR 1 (size) 0 102



    @LOAD_LOCAL 0 (i) 102




    @GREATER 0

    @FOR 0x12 102

    @PUSH_INTEGER 0 106

    @STORE_LOCAL 0 (i) 0

    @GOTO 0x13 106
    @LABEL 0x14 106
    @PUSH_THIS 107

@LOAD_ATTR 2 (enemies) 107

@LOAD_LOCAL 0 (i) 107




@ARRAY_GET 107
@CALL_ATTR 2 (render) 0 107



    @PUSH_INTEGER 1 0

    @LOAD_LOCAL 0 (i) 0




    @ADD 106
    @STORE_LOCAL 0 (i) 0


    @LABEL 0x13 106
        @LOAD_CLASS 2 (enemies) 106

@CALL_ATTR 1 (size) 0 106



    @LOAD_LOCAL 0 (i) 106




    @GREATER 0

    @FOR 0x14 106

    @PUSH_THIS 110

@LOAD_ATTR 0 (ship) 110

@CALL_ATTR 2 (render) 0 110



    @LOAD_CLASS 3 (score) 111



@CAST int 111

    @CALL_BUILTIN 0 (print) 1 111

}

FUNC 3 (tick) public void  {
    @PUSH_THIS 116

@LOAD_ATTR 0 (ship) 116

@CALL_ATTR 0 (tick) 0 116



    @PUSH_INTEGER 1000 118

    @PUSH_INTEGER 10 118

    @PUSH_INTEGER 1 118

    @CALL_BUILTIN 11 (random_range) 2 118

@DIV 0

    @PUSH_THIS 0

@LOAD_ATTR 4 (enemy_timer) 0



    @ADD 118
    @PUSH_THIS 0

@STORE_ATTR 4 (enemy_timer) 0


    @PUSH_INTEGER 1 120

    @PUSH_THIS 120

@LOAD_ATTR 4 (enemy_timer) 120



    @EQ_LESSER 0

    @IF 0x16 120
    @PUSH_THIS 121

@LOAD_ATTR 2 (enemies) 121

@NEW 1 (Enemy) 0 121

@CALL_ATTR 0 (push) 1 121



    @PUSH_INTEGER 0 122
@PUSH_THIS 0

@STORE_ATTR 4 (enemy_timer) 0


    @GOTO 0x15 120
    @LABEL 0x16 120
    @LABEL 0x15 120

    @PUSH_INTEGER 0 125

    @STORE_LOCAL 0 (i) 0

    @GOTO 0x17 125
    @LABEL 0x18 125
    @PUSH_THIS 126

@LOAD_ATTR 1 (bullets) 126

@LOAD_LOCAL 0 (i) 126




@ARRAY_GET 126
@CALL_ATTR 0 (tick) 0 126



    @PUSH_INTEGER 1 0

    @LOAD_LOCAL 0 (i) 0




    @ADD 125
    @STORE_LOCAL 0 (i) 0


    @LABEL 0x17 125
        @LOAD_CLASS 1 (bullets) 125

@CALL_ATTR 1 (size) 0 125



    @LOAD_LOCAL 0 (i) 125




    @GREATER 0

    @FOR 0x18 125

    @PUSH_INTEGER 0 129

    @STORE_LOCAL 0 (i) 0

    @GOTO 0x19 129
    @LABEL 0x1a 129
    @PUSH_THIS 130

@LOAD_ATTR 2 (enemies) 130

@LOAD_LOCAL 0 (i) 130




@ARRAY_GET 130
@CALL_ATTR 0 (tick) 0 130



    @PUSH_INTEGER 1 0

    @LOAD_LOCAL 0 (i) 0




    @ADD 129
    @STORE_LOCAL 0 (i) 0


    @LABEL 0x19 129
        @LOAD_CLASS 2 (enemies) 129

@CALL_ATTR 1 (size) 0 129



    @LOAD_LOCAL 0 (i) 129




    @GREATER 0

    @FOR 0x1a 129

}

$CONSTRUCTOR 0 (constructor) default void {
}

}

FUNC 0 (main) default void  {
    @NEW 3 (Game) 0 137

    @CALL_BUILTIN 2 (load_scene) 1 137

    @PUSH_INTEGER 600 139

    @PUSH_INTEGER 800 139

    @PUSH_STRING "title" 139

    @CALL_BUILTIN 1 (window) 3 139

}

